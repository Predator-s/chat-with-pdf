{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\prashant\\\\Downloads\\\\Chat-with-pdf-main\\\\Chat-with-pdf-main\\\\front-end\\\\src\\\\components\\\\UserHistory\\\\PdfHistory.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport './PdfHistory.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction PdfHistory() {\n  _s();\n  const [pdfHistory, setPDFHistory] = useState([]);\n  const [selectedPDF, setSelectedPDF] = useState(null);\n  const [pdfId, setPdfId] = useState();\n  const [t, setT] = useState(false);\n  useEffect(() => {\n    axios.get('http://localhost:8000/pdf-history/').then(response => {\n      setPDFHistory(response.data);\n    }).catch(error => {\n      console.error('Error fetching PDF history:', error);\n    });\n  }, [t]);\n  const handlePDFClick = pdf => {\n    setPdfId(pdf.id);\n    console.log(t);\n    axios.get(`http://localhost:8000/ask-question-withId/?pdfId=${pdf.id}`).then(response => {\n      localStorage.setItem('title', JSON.stringify(response.data.title));\n      window.location.reload();\n      console.log(t);\n      console.log(response.data.message);\n      console.log(response.data.title);\n    }).catch(error => {\n      console.error('Error fetching questions and answers:', error);\n    });\n    setT(() => true);\n    console.log(\"after catch\", t);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"pdfhistory\",\n    children: pdfHistory.map((entry, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n      onClick: () => handlePDFClick(entry),\n      className: \"eachPdf\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: entry.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 11\n      }, this)\n    }, entry.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n}\n_s(PdfHistory, \"ZzGP5woZNNZ9UbOnshJGqUPvCG8=\");\n_c = PdfHistory;\nexport default PdfHistory;\nvar _c;\n$RefreshReg$(_c, \"PdfHistory\");","map":{"version":3,"names":["React","useEffect","useState","axios","jsxDEV","_jsxDEV","PdfHistory","_s","pdfHistory","setPDFHistory","selectedPDF","setSelectedPDF","pdfId","setPdfId","t","setT","get","then","response","data","catch","error","console","handlePDFClick","pdf","id","log","localStorage","setItem","JSON","stringify","title","window","location","reload","message","className","children","map","entry","index","onClick","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/prashant/Downloads/Chat-with-pdf-main/Chat-with-pdf-main/front-end/src/components/UserHistory/PdfHistory.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport './PdfHistory.css';\n\nfunction PdfHistory() {\n  const [pdfHistory, setPDFHistory] = useState([]);\n  const [selectedPDF, setSelectedPDF] = useState(null);\n  const [pdfId, setPdfId] = useState();\n  const [t , setT] = useState(false)\n  useEffect(() => {\n    axios.get('http://localhost:8000/pdf-history/')\n      .then(response => {\n        setPDFHistory(response.data);\n      })\n      .catch(error => {\n        console.error('Error fetching PDF history:', error);\n      });\n  }, [t]);\n  const handlePDFClick = (pdf) => {\n    setPdfId(pdf.id);\n    console.log(t)\n    axios.get(`http://localhost:8000/ask-question-withId/?pdfId=${pdf.id}`)\n      .then(response => {\n        localStorage.setItem('title',JSON.stringify(response.data.title))\n        window.location.reload()\n        console.log(t)\n        console.log(response.data.message);\n        console.log(response.data.title);\n      })\n      .catch(error => {\n        console.error('Error fetching questions and answers:', error);\n      });\n\n      setT(()=>true)\n      console.log(\"after catch\",t)\n  };\n\n\n  return (\n    <div className=\"pdfhistory\">\n      {/* <h2>PDF History</h2> */}\n      {pdfHistory.map((entry, index) => (\n        <div key={entry.id} onClick={() => handlePDFClick(entry)} className=\"eachPdf\">\n          <p>{entry.title}</p>\n          {/* Add more details about the PDF if needed */}\n        </div>\n      ))}\n    </div>\n  );\n}\n\nexport default PdfHistory;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAO,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1B,SAASC,UAAUA,CAAA,EAAG;EAAAC,EAAA;EACpB,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGP,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACQ,WAAW,EAAEC,cAAc,CAAC,GAAGT,QAAQ,CAAC,IAAI,CAAC;EACpD,MAAM,CAACU,KAAK,EAAEC,QAAQ,CAAC,GAAGX,QAAQ,CAAC,CAAC;EACpC,MAAM,CAACY,CAAC,EAAGC,IAAI,CAAC,GAAGb,QAAQ,CAAC,KAAK,CAAC;EAClCD,SAAS,CAAC,MAAM;IACdE,KAAK,CAACa,GAAG,CAAC,oCAAoC,CAAC,CAC5CC,IAAI,CAACC,QAAQ,IAAI;MAChBT,aAAa,CAACS,QAAQ,CAACC,IAAI,CAAC;IAC9B,CAAC,CAAC,CACDC,KAAK,CAACC,KAAK,IAAI;MACdC,OAAO,CAACD,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;IACrD,CAAC,CAAC;EACN,CAAC,EAAE,CAACP,CAAC,CAAC,CAAC;EACP,MAAMS,cAAc,GAAIC,GAAG,IAAK;IAC9BX,QAAQ,CAACW,GAAG,CAACC,EAAE,CAAC;IAChBH,OAAO,CAACI,GAAG,CAACZ,CAAC,CAAC;IACdX,KAAK,CAACa,GAAG,CAAE,oDAAmDQ,GAAG,CAACC,EAAG,EAAC,CAAC,CACpER,IAAI,CAACC,QAAQ,IAAI;MAChBS,YAAY,CAACC,OAAO,CAAC,OAAO,EAACC,IAAI,CAACC,SAAS,CAACZ,QAAQ,CAACC,IAAI,CAACY,KAAK,CAAC,CAAC;MACjEC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAAC;MACxBZ,OAAO,CAACI,GAAG,CAACZ,CAAC,CAAC;MACdQ,OAAO,CAACI,GAAG,CAACR,QAAQ,CAACC,IAAI,CAACgB,OAAO,CAAC;MAClCb,OAAO,CAACI,GAAG,CAACR,QAAQ,CAACC,IAAI,CAACY,KAAK,CAAC;IAClC,CAAC,CAAC,CACDX,KAAK,CAACC,KAAK,IAAI;MACdC,OAAO,CAACD,KAAK,CAAC,uCAAuC,EAAEA,KAAK,CAAC;IAC/D,CAAC,CAAC;IAEFN,IAAI,CAAC,MAAI,IAAI,CAAC;IACdO,OAAO,CAACI,GAAG,CAAC,aAAa,EAACZ,CAAC,CAAC;EAChC,CAAC;EAGD,oBACET,OAAA;IAAK+B,SAAS,EAAC,YAAY;IAAAC,QAAA,EAExB7B,UAAU,CAAC8B,GAAG,CAAC,CAACC,KAAK,EAAEC,KAAK,kBAC3BnC,OAAA;MAAoBoC,OAAO,EAAEA,CAAA,KAAMlB,cAAc,CAACgB,KAAK,CAAE;MAACH,SAAS,EAAC,SAAS;MAAAC,QAAA,eAC3EhC,OAAA;QAAAgC,QAAA,EAAIE,KAAK,CAACR;MAAK;QAAAW,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI;IAAC,GADZN,KAAK,CAACd,EAAE;MAAAiB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAGb,CACN;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACC,CAAC;AAEV;AAACtC,EAAA,CA7CQD,UAAU;AAAAwC,EAAA,GAAVxC,UAAU;AA+CnB,eAAeA,UAAU;AAAC,IAAAwC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}